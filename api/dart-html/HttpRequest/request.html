<div class="col-xs-12 col-sm-9 col-md-8 main-content">
 <section class="multi-line-signature">
  <span class="returntype">
   <a class="" href="dart-async/Future-class.html">
    Future
   </a>
   &lt;
   <a class="" href="dart-html/HttpRequest-class.html">
    HttpRequest
   </a>
   &gt;
  </span>
  <span class="name ">
   request
  </span>
  (
  <wbr>
  <span class="parameter" id="request-param-url">
   <span class="type-annotation">
    <a class="" href="dart-core/String-class.html">
     String
    </a>
   </span>
   <span class="parameter-name">
    url
   </span>
  </span>
  , {
  <span class="parameter" id="request-param-method">
   <span class="type-annotation">
    <a class="" href="dart-core/String-class.html">
     String
    </a>
   </span>
   <span class="parameter-name">
    method
   </span>
  </span>
  ,
  <span class="parameter" id="request-param-withCredentials">
   <span class="type-annotation">
    <a class="" href="dart-core/bool-class.html">
     bool
    </a>
   </span>
   <span class="parameter-name">
    withCredentials
   </span>
  </span>
  ,
  <span class="parameter" id="request-param-responseType">
   <span class="type-annotation">
    <a class="" href="dart-core/String-class.html">
     String
    </a>
   </span>
   <span class="parameter-name">
    responseType
   </span>
  </span>
  ,
  <span class="parameter" id="request-param-mimeType">
   <span class="type-annotation">
    <a class="" href="dart-core/String-class.html">
     String
    </a>
   </span>
   <span class="parameter-name">
    mimeType
   </span>
  </span>
  ,
  <span class="parameter" id="request-param-requestHeaders">
   <span class="type-annotation">
    <a class="" href="dart-core/Map-class.html">
     Map
    </a>
    &lt;
    <a class="" href="dart-core/String-class.html">
     String
    </a>
    ,
    <a class="" href="dart-core/String-class.html">
     String
    </a>
    &gt;
   </span>
   <span class="parameter-name">
    requestHeaders
   </span>
  </span>
  ,
  <span class="parameter" id="request-param-sendData">
   <span class="parameter-name">
    sendData
   </span>
  </span>
  ,
  <span class="parameter" id="request-param-onProgress">
   <span class="type-annotation">
    void
   </span>
   <span class="parameter-name">
    onProgress
   </span>
   (
   <span class="parameter" id="onProgress-param-e">
    <span class="type-annotation">
     <a class="" href="dart-html/ProgressEvent-class.html">
      ProgressEvent
     </a>
    </span>
    <span class="parameter-name">
     e
    </span>
   </span>
   )
  </span>
  })
 </section>
 <section class="desc markdown">
  <p>
   Creates and sends a URL request for the specified
   <code>
    url
   </code>
   .
  </p>
  <p>
   By default
   <code>
    request
   </code>
   will perform an HTTP GET request, but a different
method (
   <code>
    POST
   </code>
   ,
   <code>
    PUT
   </code>
   ,
   <code>
    DELETE
   </code>
   , etc) can be used by specifying the
   <code>
    method
   </code>
   parameter. (See also
   <a class="" href="dart-html/HttpRequest/postFormData.html">
    HttpRequest.postFormData
   </a>
   for
   <code>
    POST
   </code>
   requests only.
  </p>
  <p>
   The Future is completed when the response is available.
  </p>
  <p>
   If specified,
   <code>
    sendData
   </code>
   will send data in the form of a
   <a class="" href="dart-typed_data/ByteBuffer-class.html">
    ByteBuffer
   </a>
   ,
   <a class="" href="dart-html/Blob-class.html">
    Blob
   </a>
   ,
   <a class="" href="dart-html/Document-class.html">
    Document
   </a>
   ,
   <a class="" href="dart-core/String-class.html">
    String
   </a>
   , or
   <a class="" href="dart-html/FormData-class.html">
    FormData
   </a>
   along with the HttpRequest.
  </p>
  <p>
   If specified,
   <code>
    responseType
   </code>
   sets the desired response format for the
request. By default it is
   <a class="" href="dart-core/String-class.html">
    String
   </a>
   , but can also be &#39;arraybuffer&#39;, &#39;blob&#39;, 
&#39;document&#39;, &#39;json&#39;, or &#39;text&#39;. See also
   <a class="" href="dart-html/HttpRequest/responseType.html">
    HttpRequest.responseType
   </a>
   for more information.
  </p>
  <p>
   The
   <code>
    withCredentials
   </code>
   parameter specified that credentials such as a cookie
(already) set in the header or
   <a href="http://tools.ietf.org/html/rfc1945#section-10.2">
    authorization headers
   </a>
   should be specified for the request. Details to keep in mind when using
credentials:
  </p>
  <ul>
   <li>
    Using credentials is only useful for cross-origin requests.
   </li>
   <li>
    The
    <code>
     Access-Control-Allow-Origin
    </code>
    header of
    <code>
     url
    </code>
    cannot contain a wildcard (*).
   </li>
   <li>
    The
    <code>
     Access-Control-Allow-Credentials
    </code>
    header of
    <code>
     url
    </code>
    must be set to true.
   </li>
   <li>
    If
    <code>
     Access-Control-Expose-Headers
    </code>
    has not been set to true, only a subset of all the response headers will be returned when calling
    <code>
     getAllRequestHeaders
    </code>
    .
   </li>
  </ul>
  <p>
   The following is equivalent to the
   <a class="" href="dart-html/HttpRequest/getString.html">
    getString
   </a>
   sample above:
  </p>
  <pre class="prettyprint lang-dart">
   <code>
    var name = Uri.encodeQueryComponent(&#39;John&#39;);
var id = Uri.encodeQueryComponent(&#39;42&#39;);
HttpRequest.request(&#39;users.json?name=$name&amp;id=$id&#39;)
  .then((HttpRequest resp) {
    // Do something with the response.
});
   </code>
  </pre>
  <p>
   Here&#39;s an example of submitting an entire form with
   <a class="" href="dart-html/FormData-class.html">
    FormData
   </a>
   .
  </p>
  <pre class="prettyprint lang-dart">
   <code>
    var myForm = querySelector(&#39;form#myForm&#39;);
var data = new FormData(myForm);
HttpRequest.request(&#39;/submit&#39;, method: &#39;POST&#39;, sendData: data)
  .then((HttpRequest resp) {
    // Do something with the response.
});
   </code>
  </pre>
  <p>
   Note that requests for file:// URIs are only supported by Chrome extensions
with appropriate permissions in their manifest. Requests to file:// URIs
will also never fail- the Future will always complete successfully, even
when the file cannot be found.
  </p>
  <p>
   See also:
   <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">
    authorization headers
   </a>
   .
  </p>
 </section>
 <section class="summary source-code" id="source">
  <h2>
   <span>
    Source
   </span>
  </h2>
  <pre>
   <code class="prettyprint lang-dart">
    static Future&lt;HttpRequest&gt; request(String url,
    {String method, bool withCredentials, String responseType,
    String mimeType, Map&lt;String, String&gt; requestHeaders, sendData,
    void onProgress(ProgressEvent e)}) {
  var completer = new Completer&lt;HttpRequest&gt;();

  var xhr = new HttpRequest();
  if (method == null) {
    method = &#39;GET&#39;;
  }
  xhr.open(method, url, async: true);

  if (withCredentials != null) {
    xhr.withCredentials = withCredentials;
  }

  if (responseType != null) {
    xhr.responseType = responseType;
  }

  if (mimeType != null) {
    xhr.overrideMimeType(mimeType);
  }

  if (requestHeaders != null) {
    requestHeaders.forEach((header, value) {
      xhr.setRequestHeader(header, value);
    });
  }

  if (onProgress != null) {
    xhr.onProgress.listen(onProgress);
  }

  xhr.onLoad.listen((e) {
    var accepted = xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300;
    var fileUri = xhr.status == 0; // file:// URIs have status of 0.
    var notModified = xhr.status == 304;
    // Redirect status is specified up to 307, but others have been used in
    // practice. Notably Google Drive uses 308 Resume Incomplete for
    // resumable uploads, and it&#39;s also been used as a redirect. The
    // redirect case will be handled by the browser before it gets to us,
    // so if we see it we should pass it through to the user.
    var unknownRedirect = xhr.status &gt; 307 &amp;&amp; xhr.status &lt; 400;

    if (accepted || fileUri || notModified || unknownRedirect) {
      completer.complete(xhr);
    } else {
      completer.completeError(e);
    }
  });

  xhr.onError.listen(completer.completeError);

  if (sendData != null) {
    xhr.send(sendData);
  } else {
    xhr.send();
  }

  return completer.future;
}
   </code>
  </pre>
 </section>
</div>
